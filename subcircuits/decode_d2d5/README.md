Divide-by-2/divide-by-5 to 7-segment decoder
============================================

This takes the (complementary) output of a divide-by-2 followed by a
divide-by-5 as input, and outputs active-low 7-segment controls for the
following "font." The overall input to output table is shown below.

```
d5c      0      0      0      0      0      0      1      1      1      1
d5b      0      0      0      0      1      1      1      1      0      0
d5a      0      0      1      1      1      1      0      0      0      0
d2       0      1      0      1      0      1      0      1      0      1

  A    .===.    · .   ===.   ===.  . · .  .===   .===    ===.  .===.  .===.
F   B  |   |  ·   |  ·   |  ·   |  |   |  |   ·  |   ·  ·   |  |   |  |   |
  G    | · |    · |  .==='   ===|  '===|  '===.  |===.    · |  |===|  '===|
E   C  |   |  ·   |  |   ·  ·   |  ·   |  ·   |  |   |  ·   |  |   |  ·   |
  D    '==='    · '  '===    ==='    · '   ==='  '==='    · '  '==='   ==='

An              x                    x
Bn                                          x      x
Cn                     x
Dn              x                    x                    x
En              x             x      x      x             x             x
Fn              x      x      x                           x
Gn       x      x                                         x
```

Rewritten as Karnaugh maps:

```
       .----.----.----.----.          .----.----.----.----.
 Digit | 00 | 01 | 11 | 10 |      A   | 00 | 01 | 11 | 10 |
.------+----+----+----+----|   .------+----+----+----+----|
| 00-- | 0  | 1  | 3  | 2  |   | 00-- |    | x  |    |    |
| 01-- | -  | -  | 5  | 4  |   | 01-- | -  | -  |    | x  |
| 11-- | 6  | 7  | -  | -  |   | 11-- |    |    | -  | -  |
| 10-- | 8  | 9  | -  | -  |   | 10-- |    |    | -  | -  |
'------'----'----'----'----'   '------'----'----'----'----'
                                          0-01 or -110

       .----.----.----.----.          .----.----.----.----.
   G   | 00 | 01 | 11 | 10 |      B   | 00 | 01 | 11 | 10 |
.------+----+----+----+----|   .------+----+----+----+----|
| 00-- | x  | x  |    |    |   | 00-- |    |    |    |    |
| 01-- | -  | -  |    |    |   | 01-- | -  | -  | x  |    |
| 11-- |    | x  | -  | -  |   | 11-- | x  |    | -  | -  |
| 10-- |    |    | -  | -  |   | 10-- |    |    | -  | -  |
'------'----'----'----'----'   '------'----'----'----'----'
           0-0- or -101                   -100 or -111

       .----.----.----.----.          .----.----.----.----.
   F   | 00 | 01 | 11 | 10 |      C   | 00 | 01 | 11 | 10 |
.------+----+----+----+----|   .------+----+----+----+----|
| 00-- |    | x  | x  | x  |   | 00-- |    |    |    | x  |
| 01-- | -  | -  |    |    |   | 01-- | -  | -  |    |    |
| 11-- |    | x  | -  | -  |   | 11-- |    |    | -  | -  |
| 10-- |    |    | -  | -  |   | 10-- |    |    | -  | -  |
'------'----'----'----'----'   '------'----'----'----'----'
       0-01 or -101 or -01-                   -010

       .----.----.----.----.          .----.----.----.----.
   E   | 00 | 01 | 11 | 10 |      D   | 00 | 01 | 11 | 10 |
.------+----+----+----+----|   .------+----+----+----+----|
| 00-- |    | x  | x  |    |   | 00-- |    | x  |    |    |
| 01-- | -  | -  | x  | x  |   | 01-- | -  | -  |    | x  |
| 11-- |    | x  | -  | -  |   | 11-- |    | x  | -  | -  |
| 10-- |    | x  | -  | -  |   | 10-- |    |    | -  | -  |
'------'----'----'----'----'   '------'----'----'----'----'
           ---1 or -110               0-01 or -101 or -110
```

As luck would have it, even though we have 4 inputs, all subexpressions can be
written to only need 3 inputs, and we need at most 3 subexpressions per output.
That means we can do everything with our 3-input NAND gates directly. They're
not all that chaotic when you order them right, either:

```
.-------.------.------.------.------.------.------.------.------.------.------.
| Digit |  0   |  1   |  2   |  3   |  4   |  5   |  6   |  7   |  8   |  9   |
|-------+------+------+------+------+------+------+------+------+------+------|
| Input | 0000 | 0001 | 0010 | 0011 | 0110 | 0111 | 1100 | 1101 | 1000 | 1001 |
|-------|------|------|------|------|------|------|------|------|------|------|
| 0-0-  |  x   |  x   |      |      |      |      |      |      |      |      |
| 0-01  |      |  x   |      |      |      |      |      |      |      |      |
| -010  |      |      |  x   |      |      |      |      |      |      |      |
| -01-  |      |      |  x   |  x   |      |      |      |      |      |      |
| -110  |      |      |      |      |  x   |      |      |      |      |      |
| -111  |      |      |      |      |      |  x   |      |      |      |      |
| -100  |      |      |      |      |      |      |  x   |      |      |      |
| -101  |      |      |      |      |      |      |      |  x   |      |      |
| ---1  |      |  x   |      |  x   |      |  x   |      |  x   |      |  x   |
'-------'------'------'------'------'------'------'------'------'------'------'
```

Note that we don't even need a gate for the last one; what would be the output
of that NAND gate could just be tied straight to `d2n`. We also don't strictly
need `d5c`, because none of the subexpressions use `1---`. So all we need is 8
gates for the subexpressions, and 7 gates for the final functions.

The order of the signals leading to the display doesn't really matter, so we
can optimize the routing to make it look presentable.

```
.-------.------.------.------.------.------.------.------.------.------.
| Digit |  01  |  1   |  2   |  23  |  4   |  5   |  6   |  7   | odd  |
|-------+------+------+------+------+------+------+------+------+------|
| SubEx | 0-0- | 0-01 | -010 | -01- | -110 | -111 | -100 | -101 | ---1 |
|-------|------|------|------|------|------|------|------|------|------|
| Gn    |  x   |      |      |      |      |      |      |  x   |      |
| Cn    |      |      |  x   |      |      |      |      |      |      |
| Fn    |      |  x   |      |  x   |      |      |      |  x   |      |
| En    |      |      |      |      |  x   |      |      |      |  x   |
| An    |      |  x   |      |      |  x   |      |      |      |      |
| Bn    |      |      |      |      |      |  x   |  x   |      |      |
| Dn    |      |  x   |      |      |  x   |      |      |  x   |      |
'-------'------'------'------'------'------'------'------'------'------'
```

This results in the following routing.

```
d5c d5b  d5a  d2
 n  p n  p n  p n
 |  | |  | |  | |
 |  | |  | |  | |   ____                  ____
 |  | |  | o--)-)--|    \       .--------|    \
 |  | |  | |  | |  | f01 )O-----'        | Gn  )O--
 o--)-)--)-)--)-)--|____/          .-----|____/
 |  | |  | |  | |                  |
 |  | |  | |  | |                  |
 |  | |  | |  | |   ____           |
 |  | |  | |  o-)--|    \          |      ____
 |  | |  | o--)-)--| f1  )O-----.  |     |    \
 '--)-)--)-)--)-)--|____/       |  |  .--| Cn  )O--
    | |  | |  | |               |  |  |  |____/
    | |  | |  | |               |  |  |
    | |  | |  | |   ____        |  |  |
    | |  | |  | o--|    \       |  |  |
    | |  o-)--)-)--| f2  )O-----)--)--'   ____
    | o--)-)--)-)--|____/       o--)-----|    \
    | |  | |  | |               |  o-----| Fn  )O--
    | |  | |  | |               |  |  .--|____/
    | |  | |  | |   ____        |  |  |
    | |  o-)--)-)--|    \       |  |  |
    | |  | |  | |  | f23 )O-----)--)--'
    | '--)-)--)-)--|____/       |  |      ____
    |    | |  | |            .--)--)-----|    \
    |    | |  | o------------'  |  |     | En  )O--
    |    | |  | |   ____        |  |  .--|____/
    |    | |  o-)--|    \       |  |  |
    |    o-)--)-)--| f4  )O-----)--)--o
    o----)-)--)-)--|____/       |  |  |
    |    | |  | |               |  |  |   ____
    |    | |  | |               o--)--)--|    \
    |    | |  | |   ____        |  |  |  | An  )O--
    |    | |  o-)--|    \       |  |  o--|____/
    |    '-)--)-)--| f5  )O--.  |  |  |
    o------)--)-)--|____/    |  |  |  |
    |      |  | |            |  |  |  |
    |      |  | |            |  |  |  |   ____
    |      |  | |   ____     '--)--)--)--|    \
    |      |  | '--|    \       |  |  |  | Bn  )O--
    |      o--)----| f6  )O-----)--)--)--|____/
    o------)--)----|____/       |  |  |
    |      |  |                 |  |  |
    |      |  |                 |  |  |
    |      |  |     ____        |  |  |   ____
    |      |  '----|    \       |  |  '--|    \
    |      '-------| f7  )O-----)--o-----| Dn  )O--
    '--------------|____/       '--------|____/
```
