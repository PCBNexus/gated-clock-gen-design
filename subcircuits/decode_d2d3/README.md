Divide-by-2/divide-by-3 to 7-segment decoder
============================================

This takes the (complementary) output of a divide-by-2 followed by a
divide-by-3 as input, and outputs active-low 7-segment controls for the
following "font." The overall input to output table is shown below.

```
d3b      0      0      0      0      1      1
d3a      0      0      1      1      0      0
d2       0      1      0      1      0      1

  A    .===.    · .   ===.   ===.  . · .  .===
F   B  |   |  ·   |  ·   |  ·   |  |   |  |   ·
  G    | · |    · |  .==='   ===|  '===|  '===.
E   C  |   |  ·   |  |   ·  ·   |  ·   |  ·   |
  D    '==='    · '  '===    ==='    · '   ==='

An              x                    x
Bn                                          x
Cn                     x
Dn              x                    x
En              x             x      x      x
Fn              x      x      x
Gn       x      x
```

Rewritten as Karnaugh maps:

```
       .----.----.----.----.          .----.----.----.----.
 Digit | 00 | 01 | 11 | 10 |      A=D | 00 | 01 | 11 | 10 |
.------+----+----+----+----|   .------+----+----+----+----|
|  0-- | 0  | 1  | 3  | 2  |   |  0-- |    | x  |    |    |
|  1-- | 4  | 5  | -  | -  |   |  1-- | x  |    | -  | -  |
'------'----'----'----'----'   '------'----'----'----'----'
                                           001 or 1-0

       .----.----.----.----.          .----.----.----.----.
   G   | 00 | 01 | 11 | 10 |      B   | 00 | 01 | 11 | 10 |
.------+----+----+----+----|   .------+----+----+----+----|
|  0-- | x  | x  |    |    |   |  0-- |    |    |    |    |
|  1-- |    |    | -  | -  |   |  1-- |    | x  | -  | -  |
'------'----'----'----'----'   '------'----'----'----'----'
            000 or 001                         1-1

       .----.----.----.----.          .----.----.----.----.
   F   | 00 | 01 | 11 | 10 |      C   | 00 | 01 | 11 | 10 |
.------+----+----+----+----|   .------+----+----+----+----|
|  0-- |    | x  | x  | x  |   |  0-- |    |    |    | x  |
|  1-- |    |    | -  | -  |   |  1-- |    |    | -  | -  |
'------'----'----'----'----'   '------'----'----'----'----'
         001 or -10 or -11                     -10

       .----.----.----.----.
   E   | 00 | 01 | 11 | 10 |
.------+----+----+----+----|
|  0-- |    | x  | x  |    |
|  1-- | x  | x  | -  | -  |
'------'----'----'----'----'
            --1 or 1-0
```

The expressions listed above are not optimally expanded. However, even if you
would do that, you'd end up with 6 subexpression gates. In that case, we might
as well make a nice sequential decoder:

```
.-------.-----.-----.-----.-----.-----.-----.
| Digit |  0  |  1  |  2  |  3  |  4  |  5  |
|-------+-----+-----+-----+-----+-----+-----|
| Input | 000 | 001 | 010 | 011 | 100 | 101 |
|-------|-----|-----|-----|-----|-----|-----|
|  000  |  x  |     |     |     |     |     |
|  001  |     |  x  |     |     |     |     |
|  -10  |     |     |  x  |     |     |     |
|  -11  |     |     |     |  x  |     |     |
|  1-0  |     |     |     |     |  x  |     |
|  1-1  |     |     |     |     |     |  x  |
|  --1  |     |  x  |     |  x  |     |  x  |
'-------'-----'-----'-----'-----'-----'-----'
```

Note that we don't even need a gate for the last one; what would be the output
of that NAND gate could just be tied straight to `d2n`. So we need 6 gates for
the subexpressions, and 6 gates for the final functions.

The order of the signals leading to the display doesn't really matter, so we
can optimize the routing to make it look presentable.

```
.-------.-----.-----.-----.-----.-----.-----.-----.
| Digit |  0  |  1  |  2  |  3  |  4  |  5  | odd |
|-------+-----+-----+-----+-----+-----+-----+-----|
| SubEx | 000 | 001 | -10 | -11 | 1-0 | 1-1 | --1 |
|-------|-----|-----|-----|-----|-----|-----|-----|
| Gn    |  x  |  x  |     |     |     |     |     |
| Cn    |     |     |  x  |     |     |     |     |
| Fn    |     |  x  |  x  |  x  |     |     |     |
| En    |     |     |     |     |  x  |     |  x  |
| ADn   |     |  x  |     |     |  x  |     |     |
| Bn    |     |     |     |     |     |  x  |     |
'-------'-----'-----'-----'-----'-----'-----'-----'
```

This results in the following possible routing.

```
    d3b  d3a  d2
    p n  p n  p n
    | |  | |  | |
    | |  | |  | |   ____                  ____
    | |  | |  | o--|    \    .-----------|    \
    | |  | o--)-)--| f0  )O--'           | Gn  )O--
    | o--)-)--)-)--|____/       .--------|____/
    | |  | |  | |               |
    | |  | |  | |               |
    | |  | |  | |   ____        |
    | |  | |  o-)--|    \       |         ____
    | |  | '--)-)--| f1  )O-----o        |    \
    | '--)----)-)--|____/       |  .-----| Cn  )O--
    |    |    | |               |  |     |____/
    |    |    | |               |  |
    |    |    | |   ____        |  |
    |    |    | o--|    \       |  |
    |    |    | |  | f2  )O-----)--o      ____
    |    o----)-)--|____/       |  '-----|    \
    |    |    | |               o--------| Fn  )O--
    |    |    | |               |  .-----|____/
    |    |    | |   ____        |  |
    |    |    o-)--|    \       |  |
    |    |    | |  | f3  )O-----)--'
    |    '----)-)--|____/       |         ____
    |         | |               '--------|    \
    |         | |                        | ADn )O--
    |         | |                  .-----|____/
    |         | |_______________   |
    |         | |               |  |
    |         | |               |  |
    |         | |               |  |      ____
    |         | |   ____        '--)-----|    \
    |         | '--|    \          |     | En  )O--
    |         |    | f4  )O--------o-----|____/
    o---------)----|____/
    |         |
    |         |
    |         |     ____                  ____
    |         '----|    \                |    \
    |              | f5  )O--------------| Bn  )O--
    '--------------|____/                |____/
```
